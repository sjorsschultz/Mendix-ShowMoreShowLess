{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":79,"column":1,"index":2107}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":79,"column":1,"index":2107}}],"key":"yg7e6laZwmpbIvId5jovq9ugXp8="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":79,"column":1,"index":2107}}],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30="}},{"name":"../utils/log.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":159},"end":{"line":5,"column":34,"index":193}}],"key":"xJwTlCXWvEHR3+3tdgk52DzSJZU="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _log = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"../utils/log.js\"));\n  // Copyright 2016 wkh237@github. All rights reserved.\n  // Use of this source code is governed by a MIT-style license that can be\n  // found in the LICENSE file.\n\n  var log = new _log.default('EventTarget');\n  log.disable();\n  var EventTarget = exports.default = /*#__PURE__*/function () {\n    function EventTarget() {\n      (0, _classCallCheck2.default)(this, EventTarget);\n      log.info('constructor called');\n      this.listeners = {};\n    }\n\n    /**\n     * Add an event listener to given event type\n     * @param {string} type Event type string\n     * @param {(Event) => void} cb   Event handler function\n     */\n    return (0, _createClass2.default)(EventTarget, [{\n      key: \"addEventListener\",\n      value: function addEventListener(type, cb) {\n        log.info('add event listener', type, cb);\n        if (!(type in this.listeners)) {\n          this.listeners[type] = [];\n        }\n        this.listeners[type].push(cb);\n      }\n\n      /**\n       * Remove an event listener\n       * @param  {string} type Type of the event listener\n       * @param  {()=>void} cb Event listener function.\n       * @return {[type]}             [description]\n       */\n    }, {\n      key: \"removeEventListener\",\n      value: function removeEventListener(type, cb) {\n        log.info('remove event listener', type, cb);\n        if (!(type in this.listeners)) return;\n        var handlers = this.listeners[type];\n        for (var i in handlers) {\n          if (cb === handlers[i]) {\n            handlers.splice(i, 1);\n            return this.removeEventListener(type, cb);\n          }\n        }\n      }\n\n      /**\n       * Dispatch an event\n       * @param {string} type Event type.\n       * @param {Event} event Event data payload.\n       */\n    }, {\n      key: \"dispatchEvent\",\n      value: function dispatchEvent(type, event) {\n        log.info('dispatch event', event);\n        if (!(type in this.listeners)) return;\n        var handlers = this.listeners[type];\n        for (var i in handlers) {\n          handlers[i].call(this, event);\n        }\n      }\n\n      /**\n       * Remove all registered listeners from this object.\n       * @nonstandard\n       * @return {[type]} [description]\n       */\n    }, {\n      key: \"clearEventListeners\",\n      value: function clearEventListeners() {\n        for (var i in this.listeners) {\n          delete this.listeners[i];\n        }\n      }\n    }]);\n  }();\n});","lineCount":88,"map":[[9,2,5,0],[9,6,5,0,"_log"],[9,10,5,0],[9,13,5,0,"_interopRequireDefault"],[9,35,5,0],[9,36,5,0,"_$$_REQUIRE"],[9,47,5,0],[9,48,5,0,"_dependencyMap"],[9,62,5,0],[10,2,1,0],[11,2,2,0],[12,2,3,0],[14,2,7,0],[14,6,7,6,"log"],[14,9,7,9],[14,12,7,12],[14,16,7,16,"Log"],[14,28,7,19],[14,29,7,20],[14,42,7,33],[14,43,7,34],[15,2,9,0,"log"],[15,5,9,3],[15,6,9,4,"disable"],[15,13,9,11],[15,14,9,12],[15,15,9,13],[16,2,9,14],[16,6,11,21,"EventTarget"],[16,17,11,32],[16,20,11,32,"exports"],[16,27,11,32],[16,28,11,32,"default"],[16,35,11,32],[17,4,15,4],[17,13,15,4,"EventTarget"],[17,25,15,4],[17,27,15,18],[18,6,15,18],[18,10,15,18,"_classCallCheck2"],[18,26,15,18],[18,27,15,18,"default"],[18,34,15,18],[18,42,15,18,"EventTarget"],[18,53,15,18],[19,6,16,8,"log"],[19,9,16,11],[19,10,16,12,"info"],[19,14,16,16],[19,15,16,17],[19,35,16,37],[19,36,16,38],[20,6,17,8],[20,10,17,12],[20,11,17,13,"listeners"],[20,20,17,22],[20,23,17,25],[20,24,17,26],[20,25,17,27],[21,4,18,4],[23,4,20,4],[24,0,21,0],[25,0,22,0],[26,0,23,0],[27,0,24,0],[28,4,20,4],[28,15,20,4,"_createClass2"],[28,28,20,4],[28,29,20,4,"default"],[28,36,20,4],[28,38,20,4,"EventTarget"],[28,49,20,4],[29,6,20,4,"key"],[29,9,20,4],[30,6,20,4,"value"],[30,11,20,4],[30,13,25,4],[30,22,25,4,"addEventListener"],[30,38,25,20,"addEventListener"],[30,39,25,21,"type"],[30,43,25,33],[30,45,25,35,"cb"],[30,47,25,49],[30,49,25,51],[31,8,26,8,"log"],[31,11,26,11],[31,12,26,12,"info"],[31,16,26,16],[31,17,26,17],[31,37,26,37],[31,39,26,39,"type"],[31,43,26,43],[31,45,26,45,"cb"],[31,47,26,47],[31,48,26,48],[32,8,27,8],[32,12,27,12],[32,14,27,14,"type"],[32,18,27,18],[32,22,27,22],[32,26,27,26],[32,27,27,27,"listeners"],[32,36,27,36],[32,37,27,37],[32,39,27,39],[33,10,28,12],[33,14,28,16],[33,15,28,17,"listeners"],[33,24,28,26],[33,25,28,27,"type"],[33,29,28,31],[33,30,28,32],[33,33,28,35],[33,35,28,37],[34,8,29,8],[35,8,30,8],[35,12,30,12],[35,13,30,13,"listeners"],[35,22,30,22],[35,23,30,23,"type"],[35,27,30,27],[35,28,30,28],[35,29,30,29,"push"],[35,33,30,33],[35,34,30,34,"cb"],[35,36,30,36],[35,37,30,37],[36,6,31,4],[38,6,33,4],[39,0,34,0],[40,0,35,0],[41,0,36,0],[42,0,37,0],[43,0,38,0],[44,4,33,4],[45,6,33,4,"key"],[45,9,33,4],[46,6,33,4,"value"],[46,11,33,4],[46,13,39,4],[46,22,39,4,"removeEventListener"],[46,41,39,23,"removeEventListener"],[46,42,39,24,"type"],[46,46,39,36],[46,48,39,38,"cb"],[46,50,39,52],[46,52,39,54],[47,8,40,8,"log"],[47,11,40,11],[47,12,40,12,"info"],[47,16,40,16],[47,17,40,17],[47,40,40,40],[47,42,40,42,"type"],[47,46,40,46],[47,48,40,48,"cb"],[47,50,40,50],[47,51,40,51],[48,8,41,8],[48,12,41,12],[48,14,41,14,"type"],[48,18,41,18],[48,22,41,22],[48,26,41,26],[48,27,41,27,"listeners"],[48,36,41,36],[48,37,41,37],[48,39,42,12],[49,8,43,8],[49,12,43,12,"handlers"],[49,20,43,20],[49,23,43,23],[49,27,43,27],[49,28,43,28,"listeners"],[49,37,43,37],[49,38,43,38,"type"],[49,42,43,42],[49,43,43,43],[50,8,44,8],[50,13,44,13],[50,17,44,17,"i"],[50,18,44,18],[50,22,44,22,"handlers"],[50,30,44,30],[50,32,44,32],[51,10,45,12],[51,14,45,16,"cb"],[51,16,45,18],[51,21,45,23,"handlers"],[51,29,45,31],[51,30,45,32,"i"],[51,31,45,33],[51,32,45,34],[51,34,45,36],[52,12,46,16,"handlers"],[52,20,46,24],[52,21,46,25,"splice"],[52,27,46,31],[52,28,46,32,"i"],[52,29,46,33],[52,31,46,35],[52,32,46,36],[52,33,46,37],[53,12,47,16],[53,19,47,23],[53,23,47,27],[53,24,47,28,"removeEventListener"],[53,43,47,47],[53,44,47,48,"type"],[53,48,47,52],[53,50,47,54,"cb"],[53,52,47,56],[53,53,47,57],[54,10,48,12],[55,8,49,8],[56,6,50,4],[58,6,52,4],[59,0,53,0],[60,0,54,0],[61,0,55,0],[62,0,56,0],[63,4,52,4],[64,6,52,4,"key"],[64,9,52,4],[65,6,52,4,"value"],[65,11,52,4],[65,13,57,4],[65,22,57,4,"dispatchEvent"],[65,35,57,17,"dispatchEvent"],[65,36,57,18,"type"],[65,40,57,30],[65,42,57,32,"event"],[65,47,57,44],[65,49,57,46],[66,8,58,8,"log"],[66,11,58,11],[66,12,58,12,"info"],[66,16,58,16],[66,17,58,17],[66,33,58,33],[66,35,58,35,"event"],[66,40,58,40],[66,41,58,41],[67,8,59,8],[67,12,59,12],[67,14,59,14,"type"],[67,18,59,18],[67,22,59,22],[67,26,59,26],[67,27,59,27,"listeners"],[67,36,59,36],[67,37,59,37],[67,39,60,12],[68,8,61,8],[68,12,61,12,"handlers"],[68,20,61,20],[68,23,61,23],[68,27,61,27],[68,28,61,28,"listeners"],[68,37,61,37],[68,38,61,38,"type"],[68,42,61,42],[68,43,61,43],[69,8,62,8],[69,13,62,13],[69,17,62,17,"i"],[69,18,62,18],[69,22,62,22,"handlers"],[69,30,62,30],[69,32,62,32],[70,10,63,12,"handlers"],[70,18,63,20],[70,19,63,21,"i"],[70,20,63,22],[70,21,63,23],[70,22,63,24,"call"],[70,26,63,28],[70,27,63,29],[70,31,63,33],[70,33,63,35,"event"],[70,38,63,40],[70,39,63,41],[71,8,64,8],[72,6,66,4],[74,6,68,4],[75,0,69,0],[76,0,70,0],[77,0,71,0],[78,0,72,0],[79,4,68,4],[80,6,68,4,"key"],[80,9,68,4],[81,6,68,4,"value"],[81,11,68,4],[81,13,73,4],[81,22,73,4,"clearEventListeners"],[81,41,73,23,"clearEventListeners"],[81,42,73,23],[81,44,73,26],[82,8,74,8],[82,13,74,13],[82,17,74,17,"i"],[82,18,74,18],[82,22,74,22],[82,26,74,26],[82,27,74,27,"listeners"],[82,36,74,36],[82,38,74,38],[83,10,75,12],[83,17,75,19],[83,21,75,23],[83,22,75,24,"listeners"],[83,31,75,33],[83,32,75,34,"i"],[83,33,75,35],[83,34,75,36],[84,8,76,8],[85,6,77,4],[86,4,77,5],[87,2,77,5],[88,0,77,5],[88,3]],"functionMap":{"names":["<global>","EventTarget","constructor","addEventListener","removeEventListener","dispatchEvent","clearEventListeners"],"mappings":"AAA;eCU;ICI;KDG;IEO;KFM;IGQ;KHW;IIO;KJS;IKO;KLI"}},"type":"js/module"}]}