{"dependencies":[{"name":"@babel/runtime/helpers/defineProperty","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":46,"index":3206}}],"key":"X490zePjq+0IljAc8X0qcBg0iTo="}},{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":36,"index":203},"end":{"line":8,"column":52,"index":219}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY="}},{"name":"./NavigationBuilderContext.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":32,"index":254},"end":{"line":9,"column":72,"index":294}}],"key":"LvtG747EiSU8GTWdUChkQRwjczg="}},{"name":"./NavigationRouteContext.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":30,"index":326},"end":{"line":10,"column":68,"index":364}}],"key":"5gWCKrrjrgRIYljcPNzcln9Btzk="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _defineProperty = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/defineProperty\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.shouldPreventRemove = void 0;\n  exports.useOnPreventRemove = useOnPreventRemove;\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[1], \"react\"));\n  function _getRequireWildcardCache(e) {\n    if (\"function\" != typeof WeakMap) return null;\n    var r = new WeakMap(),\n      t = new WeakMap();\n    return (_getRequireWildcardCache = function _getRequireWildcardCache(e) {\n      return e ? t : r;\n    })(e);\n  }\n  function _interopRequireWildcard(e, r) {\n    if (!r && e && e.__esModule) return e;\n    if (null === e || \"object\" != typeof e && \"function\" != typeof e) return {\n      default: e\n    };\n    var t = _getRequireWildcardCache(r);\n    if (t && t.has(e)) return t.get(e);\n    var n = {\n        __proto__: null\n      },\n      a = Object.defineProperty && Object.getOwnPropertyDescriptor;\n    for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) {\n      var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;\n      i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];\n    }\n    return n.default = e, t && t.set(e, n), n;\n  }\n  var VISITED_ROUTE_KEYS = Symbol('VISITED_ROUTE_KEYS');\n  var shouldPreventRemove = function shouldPreventRemove(emitter, beforeRemoveListeners, currentRoutes, nextRoutes, action) {\n    var _action$VISITED_ROUTE;\n    var nextRouteKeys = nextRoutes.map(function (route) {\n      return route.key;\n    });\n\n    // Call these in reverse order so last screens handle the event first\n    var removedRoutes = currentRoutes.filter(function (route) {\n      return !nextRouteKeys.includes(route.key);\n    }).reverse();\n    var visitedRouteKeys = // @ts-expect-error: add this property to mark that we've already emitted this action\n    (_action$VISITED_ROUTE = action[VISITED_ROUTE_KEYS]) != null ? _action$VISITED_ROUTE : new Set();\n    var beforeRemoveAction = Object.assign({}, action, _defineProperty({}, VISITED_ROUTE_KEYS, visitedRouteKeys));\n    for (var route of removedRoutes) {\n      var _beforeRemoveListener;\n      if (visitedRouteKeys.has(route.key)) {\n        // Skip if we've already emitted this action for this screen\n        continue;\n      }\n\n      // First, we need to check if any child screens want to prevent it\n      var isPrevented = (_beforeRemoveListener = beforeRemoveListeners[route.key]) == null ? void 0 : _beforeRemoveListener.call(beforeRemoveListeners, beforeRemoveAction);\n      if (isPrevented) {\n        return true;\n      }\n      visitedRouteKeys.add(route.key);\n      var event = emitter.emit({\n        type: 'beforeRemove',\n        target: route.key,\n        data: {\n          action: beforeRemoveAction\n        },\n        canPreventDefault: true\n      });\n      if (event.defaultPrevented) {\n        return true;\n      }\n    }\n    return false;\n  };\n  exports.shouldPreventRemove = shouldPreventRemove;\n  function useOnPreventRemove(_ref) {\n    var getState = _ref.getState,\n      emitter = _ref.emitter,\n      beforeRemoveListeners = _ref.beforeRemoveListeners;\n    var _React$useContext = React.useContext(_$$_REQUIRE(_dependencyMap[2], \"./NavigationBuilderContext.js\").NavigationBuilderContext),\n      addKeyedListener = _React$useContext.addKeyedListener;\n    var route = React.useContext(_$$_REQUIRE(_dependencyMap[3], \"./NavigationRouteContext.js\").NavigationRouteContext);\n    var routeKey = route == null ? void 0 : route.key;\n    React.useEffect(function () {\n      if (routeKey) {\n        return addKeyedListener == null ? void 0 : addKeyedListener('beforeRemove', routeKey, function (action) {\n          var state = getState();\n          return shouldPreventRemove(emitter, beforeRemoveListeners, state.routes, [], action);\n        });\n      }\n    }, [addKeyedListener, beforeRemoveListeners, emitter, getState, routeKey]);\n  }\n});","lineCount":95,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_defineProperty"],[4,21,1,13],[4,24,1,13,"_$$_REQUIRE"],[4,35,1,13],[4,36,1,13,"_dependencyMap"],[4,50,1,13],[5,2,3,0,"Object"],[5,8,3,6],[5,9,3,7,"defineProperty"],[5,23,3,21],[5,24,3,22,"exports"],[5,31,3,29],[5,33,3,31],[5,45,3,43],[5,47,3,45],[6,4,4,2,"value"],[6,9,4,7],[6,11,4,9],[7,2,5,0],[7,3,5,1],[7,4,5,2],[8,2,6,0,"exports"],[8,9,6,7],[8,10,6,8,"shouldPreventRemove"],[8,29,6,27],[8,32,6,30],[8,37,6,35],[8,38,6,36],[9,2,7,0,"exports"],[9,9,7,7],[9,10,7,8,"useOnPreventRemove"],[9,28,7,26],[9,31,7,29,"useOnPreventRemove"],[9,49,7,47],[10,2,8,0],[10,6,8,4,"React"],[10,11,8,9],[10,14,8,12,"_interopRequireWildcard"],[10,37,8,35],[10,38,8,36,"require"],[10,49,8,43],[10,50,8,43,"_dependencyMap"],[10,64,8,43],[10,76,8,51],[10,77,8,52],[10,78,8,53],[11,2,11,0],[11,11,11,9,"_getRequireWildcardCache"],[11,35,11,33,"_getRequireWildcardCache"],[11,36,11,34,"e"],[11,37,11,35],[11,39,11,37],[12,4,11,39],[12,8,11,43],[12,18,11,53],[12,22,11,57],[12,29,11,64,"WeakMap"],[12,36,11,71],[12,38,11,73],[12,45,11,80],[12,49,11,84],[13,4,11,86],[13,8,11,90,"r"],[13,9,11,91],[13,12,11,94],[13,16,11,98,"WeakMap"],[13,23,11,105],[13,24,11,106],[13,25,11,107],[14,6,11,109,"t"],[14,7,11,110],[14,10,11,113],[14,14,11,117,"WeakMap"],[14,21,11,124],[14,22,11,125],[14,23,11,126],[15,4,11,128],[15,11,11,135],[15,12,11,136,"_getRequireWildcardCache"],[15,36,11,160],[15,39,11,163],[15,48,11,136,"_getRequireWildcardCache"],[15,72,11,160,"_getRequireWildcardCache"],[15,73,11,173,"e"],[15,74,11,174],[15,76,11,176],[16,6,11,178],[16,13,11,185,"e"],[16,14,11,186],[16,17,11,189,"t"],[16,18,11,190],[16,21,11,193,"r"],[16,22,11,194],[17,4,11,196],[17,5,11,197],[17,7,11,199,"e"],[17,8,11,200],[17,9,11,201],[18,2,11,203],[19,2,12,0],[19,11,12,9,"_interopRequireWildcard"],[19,34,12,32,"_interopRequireWildcard"],[19,35,12,33,"e"],[19,36,12,34],[19,38,12,36,"r"],[19,39,12,37],[19,41,12,39],[20,4,12,41],[20,8,12,45],[20,9,12,46,"r"],[20,10,12,47],[20,14,12,51,"e"],[20,15,12,52],[20,19,12,56,"e"],[20,20,12,57],[20,21,12,58,"__esModule"],[20,31,12,68],[20,33,12,70],[20,40,12,77,"e"],[20,41,12,78],[21,4,12,80],[21,8,12,84],[21,12,12,88],[21,17,12,93,"e"],[21,18,12,94],[21,22,12,98],[21,30,12,106],[21,34,12,110],[21,41,12,117,"e"],[21,42,12,118],[21,46,12,122],[21,56,12,132],[21,60,12,136],[21,67,12,143,"e"],[21,68,12,144],[21,70,12,146],[21,77,12,153],[22,6,12,155,"default"],[22,13,12,162],[22,15,12,164,"e"],[23,4,12,166],[23,5,12,167],[24,4,12,169],[24,8,12,173,"t"],[24,9,12,174],[24,12,12,177,"_getRequireWildcardCache"],[24,36,12,201],[24,37,12,202,"r"],[24,38,12,203],[24,39,12,204],[25,4,12,206],[25,8,12,210,"t"],[25,9,12,211],[25,13,12,215,"t"],[25,14,12,216],[25,15,12,217,"has"],[25,18,12,220],[25,19,12,221,"e"],[25,20,12,222],[25,21,12,223],[25,23,12,225],[25,30,12,232,"t"],[25,31,12,233],[25,32,12,234,"get"],[25,35,12,237],[25,36,12,238,"e"],[25,37,12,239],[25,38,12,240],[26,4,12,242],[26,8,12,246,"n"],[26,9,12,247],[26,12,12,250],[27,8,12,252,"__proto__"],[27,17,12,261],[27,19,12,263],[28,6,12,268],[28,7,12,269],[29,6,12,271,"a"],[29,7,12,272],[29,10,12,275,"Object"],[29,16,12,281],[29,17,12,282,"defineProperty"],[29,31,12,296],[29,35,12,300,"Object"],[29,41,12,306],[29,42,12,307,"getOwnPropertyDescriptor"],[29,66,12,331],[30,4,12,333],[30,9,12,338],[30,13,12,342,"u"],[30,14,12,343],[30,18,12,347,"e"],[30,19,12,348],[30,21,12,350],[30,25,12,354],[30,34,12,363],[30,39,12,368,"u"],[30,40,12,369],[30,44,12,373],[30,45,12,374],[30,46,12,375],[30,47,12,376,"hasOwnProperty"],[30,61,12,390],[30,62,12,391,"call"],[30,66,12,395],[30,67,12,396,"e"],[30,68,12,397],[30,70,12,399,"u"],[30,71,12,400],[30,72,12,401],[30,74,12,403],[31,6,12,405],[31,10,12,409,"i"],[31,11,12,410],[31,14,12,413,"a"],[31,15,12,414],[31,18,12,417,"Object"],[31,24,12,423],[31,25,12,424,"getOwnPropertyDescriptor"],[31,49,12,448],[31,50,12,449,"e"],[31,51,12,450],[31,53,12,452,"u"],[31,54,12,453],[31,55,12,454],[31,58,12,457],[31,62,12,461],[32,6,12,463,"i"],[32,7,12,464],[32,12,12,469,"i"],[32,13,12,470],[32,14,12,471,"get"],[32,17,12,474],[32,21,12,478,"i"],[32,22,12,479],[32,23,12,480,"set"],[32,26,12,483],[32,27,12,484],[32,30,12,487,"Object"],[32,36,12,493],[32,37,12,494,"defineProperty"],[32,51,12,508],[32,52,12,509,"n"],[32,53,12,510],[32,55,12,512,"u"],[32,56,12,513],[32,58,12,515,"i"],[32,59,12,516],[32,60,12,517],[32,63,12,520,"n"],[32,64,12,521],[32,65,12,522,"u"],[32,66,12,523],[32,67,12,524],[32,70,12,527,"e"],[32,71,12,528],[32,72,12,529,"u"],[32,73,12,530],[32,74,12,531],[33,4,12,533],[34,4,12,535],[34,11,12,542,"n"],[34,12,12,543],[34,13,12,544,"default"],[34,20,12,551],[34,23,12,554,"e"],[34,24,12,555],[34,26,12,557,"t"],[34,27,12,558],[34,31,12,562,"t"],[34,32,12,563],[34,33,12,564,"set"],[34,36,12,567],[34,37,12,568,"e"],[34,38,12,569],[34,40,12,571,"n"],[34,41,12,572],[34,42,12,573],[34,44,12,575,"n"],[34,45,12,576],[35,2,12,578],[36,2,13,0],[36,6,13,6,"VISITED_ROUTE_KEYS"],[36,24,13,24],[36,27,13,27,"Symbol"],[36,33,13,33],[36,34,13,34],[36,54,13,54],[36,55,13,55],[37,2,14,0],[37,6,14,6,"shouldPreventRemove"],[37,25,14,25],[37,28,14,28],[37,37,14,6,"shouldPreventRemove"],[37,56,14,25,"shouldPreventRemove"],[37,57,14,29,"emitter"],[37,64,14,36],[37,66,14,38,"beforeRemoveListeners"],[37,87,14,59],[37,89,14,61,"currentRoutes"],[37,102,14,74],[37,104,14,76,"nextRoutes"],[37,114,14,86],[37,116,14,88,"action"],[37,122,14,94],[37,124,14,99],[38,4,14,99],[38,8,14,99,"_action$VISITED_ROUTE"],[38,29,14,99],[39,4,15,2],[39,8,15,8,"nextRouteKeys"],[39,21,15,21],[39,24,15,24,"nextRoutes"],[39,34,15,34],[39,35,15,35,"map"],[39,38,15,38],[39,39,15,39],[39,49,15,39,"route"],[39,54,15,44],[40,6,15,44],[40,13,15,48,"route"],[40,18,15,53],[40,19,15,54,"key"],[40,22,15,57],[41,4,15,57],[41,6,15,58],[43,4,17,2],[44,4,18,2],[44,8,18,8,"removedRoutes"],[44,21,18,21],[44,24,18,24,"currentRoutes"],[44,37,18,37],[44,38,18,38,"filter"],[44,44,18,44],[44,45,18,45],[44,55,18,45,"route"],[44,60,18,50],[45,6,18,50],[45,13,18,54],[45,14,18,55,"nextRouteKeys"],[45,27,18,68],[45,28,18,69,"includes"],[45,36,18,77],[45,37,18,78,"route"],[45,42,18,83],[45,43,18,84,"key"],[45,46,18,87],[45,47,18,88],[46,4,18,88],[46,6,18,89],[46,7,18,90,"reverse"],[46,14,18,97],[46,15,18,98],[46,16,18,99],[47,4,19,2],[47,8,19,8,"visitedRouteKeys"],[47,24,19,24],[47,27,20,2],[48,4,20,2],[48,5,20,2,"_action$VISITED_ROUTE"],[48,26,20,2],[48,29,21,2,"action"],[48,35,21,8],[48,36,21,9,"VISITED_ROUTE_KEYS"],[48,54,21,27],[48,55,21,28],[48,67,21,28,"_action$VISITED_ROUTE"],[48,88,21,28],[48,91,21,32],[48,95,21,36,"Set"],[48,98,21,39],[48,99,21,40],[48,100,21,41],[49,4,22,2],[49,8,22,8,"beforeRemoveAction"],[49,26,22,26],[49,29,22,26,"Object"],[49,35,22,26],[49,36,22,26,"assign"],[49,42,22,26],[49,47,23,7,"action"],[49,53,23,13],[49,55,23,13,"_defineProperty"],[49,70,23,13],[49,75,24,5,"VISITED_ROUTE_KEYS"],[49,93,24,23],[49,95,24,26,"visitedRouteKeys"],[49,111,24,42],[49,113,25,3],[50,4,26,2],[50,9,26,7],[50,13,26,13,"route"],[50,18,26,18],[50,22,26,22,"removedRoutes"],[50,35,26,35],[50,37,26,37],[51,6,26,37],[51,10,26,37,"_beforeRemoveListener"],[51,31,26,37],[52,6,27,4],[52,10,27,8,"visitedRouteKeys"],[52,26,27,24],[52,27,27,25,"has"],[52,30,27,28],[52,31,27,29,"route"],[52,36,27,34],[52,37,27,35,"key"],[52,40,27,38],[52,41,27,39],[52,43,27,41],[53,8,28,6],[54,8,29,6],[55,6,30,4],[57,6,32,4],[58,6,33,4],[58,10,33,10,"isPrevented"],[58,21,33,21],[58,25,33,21,"_beforeRemoveListener"],[58,46,33,21],[58,49,33,24,"beforeRemoveListeners"],[58,70,33,45],[58,71,33,46,"route"],[58,76,33,51],[58,77,33,52,"key"],[58,80,33,55],[58,81,33,56],[58,102,33,24,"_beforeRemoveListener"],[58,123,33,24],[58,124,33,24,"call"],[58,128,33,24],[58,129,33,24,"beforeRemoveListeners"],[58,150,33,45],[58,152,33,59,"beforeRemoveAction"],[58,170,33,77],[58,171,33,78],[59,6,34,4],[59,10,34,8,"isPrevented"],[59,21,34,19],[59,23,34,21],[60,8,35,6],[60,15,35,13],[60,19,35,17],[61,6,36,4],[62,6,37,4,"visitedRouteKeys"],[62,22,37,20],[62,23,37,21,"add"],[62,26,37,24],[62,27,37,25,"route"],[62,32,37,30],[62,33,37,31,"key"],[62,36,37,34],[62,37,37,35],[63,6,38,4],[63,10,38,10,"event"],[63,15,38,15],[63,18,38,18,"emitter"],[63,25,38,25],[63,26,38,26,"emit"],[63,30,38,30],[63,31,38,31],[64,8,39,6,"type"],[64,12,39,10],[64,14,39,12],[64,28,39,26],[65,8,40,6,"target"],[65,14,40,12],[65,16,40,14,"route"],[65,21,40,19],[65,22,40,20,"key"],[65,25,40,23],[66,8,41,6,"data"],[66,12,41,10],[66,14,41,12],[67,10,42,8,"action"],[67,16,42,14],[67,18,42,16,"beforeRemoveAction"],[68,8,43,6],[68,9,43,7],[69,8,44,6,"canPreventDefault"],[69,25,44,23],[69,27,44,25],[70,6,45,4],[70,7,45,5],[70,8,45,6],[71,6,46,4],[71,10,46,8,"event"],[71,15,46,13],[71,16,46,14,"defaultPrevented"],[71,32,46,30],[71,34,46,32],[72,8,47,6],[72,15,47,13],[72,19,47,17],[73,6,48,4],[74,4,49,2],[75,4,50,2],[75,11,50,9],[75,16,50,14],[76,2,51,0],[76,3,51,1],[77,2,52,0,"exports"],[77,9,52,7],[77,10,52,8,"shouldPreventRemove"],[77,29,52,27],[77,32,52,30,"shouldPreventRemove"],[77,51,52,49],[78,2,53,0],[78,11,53,9,"useOnPreventRemove"],[78,29,53,27,"useOnPreventRemove"],[78,30,53,27,"_ref"],[78,34,53,27],[78,36,57,3],[79,4,57,3],[79,8,54,2,"getState"],[79,16,54,10],[79,19,54,10,"_ref"],[79,23,54,10],[79,24,54,2,"getState"],[79,32,54,10],[80,6,55,2,"emitter"],[80,13,55,9],[80,16,55,9,"_ref"],[80,20,55,9],[80,21,55,2,"emitter"],[80,28,55,9],[81,6,56,2,"beforeRemoveListeners"],[81,27,56,23],[81,30,56,23,"_ref"],[81,34,56,23],[81,35,56,2,"beforeRemoveListeners"],[81,56,56,23],[82,4,58,2],[82,8,58,2,"_React$useContext"],[82,25,58,2],[82,28,60,6,"React"],[82,33,60,11],[82,34,60,12,"useContext"],[82,44,60,22],[82,45,60,23,"_$$_REQUIRE"],[82,56,60,23],[82,57,60,23,"_dependencyMap"],[82,71,60,23],[82,109,60,49,"NavigationBuilderContext"],[82,133,60,73],[82,134,60,74],[83,6,59,4,"addKeyedListener"],[83,22,59,20],[83,25,59,20,"_React$useContext"],[83,42,59,20],[83,43,59,4,"addKeyedListener"],[83,59,59,20],[84,4,61,2],[84,8,61,8,"route"],[84,13,61,13],[84,16,61,16,"React"],[84,21,61,21],[84,22,61,22,"useContext"],[84,32,61,32],[84,33,61,33,"_$$_REQUIRE"],[84,44,61,33],[84,45,61,33,"_dependencyMap"],[84,59,61,33],[84,95,61,57,"NavigationRouteContext"],[84,117,61,79],[84,118,61,80],[85,4,62,2],[85,8,62,8,"routeKey"],[85,16,62,16],[85,19,62,19,"route"],[85,24,62,24],[85,44,62,19,"route"],[85,49,62,24],[85,50,62,26,"key"],[85,53,62,29],[86,4,63,2,"React"],[86,9,63,7],[86,10,63,8,"useEffect"],[86,19,63,17],[86,20,63,18],[86,32,63,24],[87,6,64,4],[87,10,64,8,"routeKey"],[87,18,64,16],[87,20,64,18],[88,8,65,6],[88,15,65,13,"addKeyedListener"],[88,31,65,29],[88,51,65,13,"addKeyedListener"],[88,67,65,29],[88,68,65,32],[88,82,65,46],[88,84,65,48,"routeKey"],[88,92,65,56],[88,94,65,58],[88,104,65,58,"action"],[88,110,65,64],[88,112,65,68],[89,10,66,8],[89,14,66,14,"state"],[89,19,66,19],[89,22,66,22,"getState"],[89,30,66,30],[89,31,66,31],[89,32,66,32],[90,10,67,8],[90,17,67,15,"shouldPreventRemove"],[90,36,67,34],[90,37,67,35,"emitter"],[90,44,67,42],[90,46,67,44,"beforeRemoveListeners"],[90,67,67,65],[90,69,67,67,"state"],[90,74,67,72],[90,75,67,73,"routes"],[90,81,67,79],[90,83,67,81],[90,85,67,83],[90,87,67,85,"action"],[90,93,67,91],[90,94,67,92],[91,8,68,6],[91,9,68,7],[91,10,68,8],[92,6,69,4],[93,4,70,2],[93,5,70,3],[93,7,70,5],[93,8,70,6,"addKeyedListener"],[93,24,70,22],[93,26,70,24,"beforeRemoveListeners"],[93,47,70,45],[93,49,70,47,"emitter"],[93,56,70,54],[93,58,70,56,"getState"],[93,66,70,64],[93,68,70,66,"routeKey"],[93,76,70,74],[93,77,70,75],[93,78,70,76],[94,2,71,0],[95,0,71,1],[95,3]],"functionMap":{"names":["<global>","_getRequireWildcardCache","_interopRequireWildcard","shouldPreventRemove","nextRoutes.map$argument_0","currentRoutes.filter$argument_0","useOnPreventRemove","React.useEffect$argument_0","addKeyedListener$argument_2"],"mappings":"AAA;ACU,4MD;AEC,mkBF;4BGE;uCCC,kBD;6CEG,2CF;CHiC;AME;kBCU;0DCE;ODG;GDE;CNC"}},"type":"js/module"}]}