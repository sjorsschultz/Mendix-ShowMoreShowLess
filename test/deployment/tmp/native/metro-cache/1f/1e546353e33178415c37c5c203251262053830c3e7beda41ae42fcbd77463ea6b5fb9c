{"dependencies":[{"name":"../threads","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":14},"end":{"line":2,"column":48,"index":62}}],"key":"K1yKq+VUoHdgwBY7Fz9TrE1h5uU="}}],"output":[{"data":{"code":"__d((function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,\"__esModule\",{value:!0}),e.prepareUIRegistry=void 0;var t,l={code:\"function FrameCallbackRegistryUITs1(){const frameCallbackRegistry={frameCallbackRegistry:new Map(),activeFrameCallbacks:new Set(),previousFrameTimestamp:null,nextCallId:0,runCallbacks:function(callId){var _this=this;const loop=function(timestamp){if(callId!==_this.nextCallId){return;}if(_this.previousFrameTimestamp===null){_this.previousFrameTimestamp=timestamp;}const delta=timestamp-_this.previousFrameTimestamp;_this.activeFrameCallbacks.forEach(function(callbackId){const callbackDetails=_this.frameCallbackRegistry.get(callbackId);const{startTime:startTime}=callbackDetails;if(startTime===null){callbackDetails.startTime=timestamp;callbackDetails.callback({timestamp:timestamp,timeSincePreviousFrame:null,timeSinceFirstFrame:0});}else{callbackDetails.callback({timestamp:timestamp,timeSincePreviousFrame:delta,timeSinceFirstFrame:timestamp-startTime});}});if(_this.activeFrameCallbacks.size>0){_this.previousFrameTimestamp=timestamp;requestAnimationFrame(loop);}else{_this.previousFrameTimestamp=null;}};if(this.activeFrameCallbacks.size===1&&callId===this.nextCallId){requestAnimationFrame(loop);}},registerFrameCallback:function(callback,callbackId){this.frameCallbackRegistry.set(callbackId,{callback:callback,startTime:null});},unregisterFrameCallback:function(callbackId){this.manageStateFrameCallback(callbackId,false);this.frameCallbackRegistry.delete(callbackId);},manageStateFrameCallback:function(callbackId,state){if(callbackId===-1){return;}if(state){this.activeFrameCallbacks.add(callbackId);this.runCallbacks(this.nextCallId);}else{const callback=this.frameCallbackRegistry.get(callbackId);callback.startTime=null;this.activeFrameCallbacks.delete(callbackId);if(this.activeFrameCallbacks.size===0){this.nextCallId+=1;}}}};global._frameCallbackRegistry=frameCallbackRegistry;}\"};e.prepareUIRegistry=(0,r(d[0]).runOnUIImmediately)(((t=function(){var t={frameCallbackRegistry:new Map,activeFrameCallbacks:new Set,previousFrameTimestamp:null,nextCallId:0,runCallbacks:function(t){var l=this,s=function(c){if(t===l.nextCallId){null===l.previousFrameTimestamp&&(l.previousFrameTimestamp=c);var n=c-l.previousFrameTimestamp;l.activeFrameCallbacks.forEach((function(t){var s=l.frameCallbackRegistry.get(t),b=s.startTime;null===b?(s.startTime=c,s.callback({timestamp:c,timeSincePreviousFrame:null,timeSinceFirstFrame:0})):s.callback({timestamp:c,timeSincePreviousFrame:n,timeSinceFirstFrame:c-b})})),l.activeFrameCallbacks.size>0?(l.previousFrameTimestamp=c,requestAnimationFrame(s)):l.previousFrameTimestamp=null}};1===this.activeFrameCallbacks.size&&t===this.nextCallId&&requestAnimationFrame(s)},registerFrameCallback:function(t,l){this.frameCallbackRegistry.set(l,{callback:t,startTime:null})},unregisterFrameCallback:function(t){this.manageStateFrameCallback(t,!1),this.frameCallbackRegistry.delete(t)},manageStateFrameCallback:function(t,l){-1!==t&&(l?(this.activeFrameCallbacks.add(t),this.runCallbacks(this.nextCallId)):(this.frameCallbackRegistry.get(t).startTime=null,this.activeFrameCallbacks.delete(t),0===this.activeFrameCallbacks.size&&(this.nextCallId+=1)))}};g._frameCallbackRegistry=t}).__closure={},t.__workletHash=7852773226175,t.__initData=l,t))}));","lineCount":1,"map":[[1,29,1,0],[1,42,1,13,"Object"],[1,49,1,13,"defineProperty"],[1,64,1,13,"e"],[1,66,1,13],[1,80,1,13,"value"],[1,87,1,13],[1,91,1,13,"e"],[1,93,1,13,"prepareUIRegistry"],[1,116,1,13,"undefined"],[1,118,1,13],[1,122,29,52,"FrameCallbackRegistryUITs1"],[1,124,1,13,"_worklet_7852773226175_init_data"],[1,126,1,13],[1,127,1,13,"code"],[1,132,1,13],[1,1932,29,30,"e"],[1,1934,29,30,"prepareUIRegistry"],[1,1953,29,33],[1,1955,29,33,"runOnUIImmediately"],[1,1985,29,52,"FrameCallbackRegistryUITs1"],[1,1987,29,52],[1,1998,32,2],[1,2002,32,8,"frameCallbackRegistry"],[1,2004,32,57],[1,2005,33,4,"frameCallbackRegistry"],[1,2027,33,27],[1,2031,33,31,"Map"],[1,2035,34,4,"activeFrameCallbacks"],[1,2056,34,26],[1,2060,34,30,"Set"],[1,2064,35,4,"previousFrameTimestamp"],[1,2087,35,28],[1,2092,36,4,"nextCallId"],[1,2103,36,16],[1,2105,38,4,"runCallbacks"],[1,2118,38,16],[1,2127,38,17,"callId"],[1,2130,38,25],[1,2134,38,25,"_this"],[1,2136,38,25,"this"],[1,2141,39,12,"loop"],[1,2143,39,19],[1,2152,39,20,"timestamp"],[1,2155,40,8],[1,2158,40,12,"callId"],[1,2162,40,23,"_this"],[1,2164,40,28,"nextCallId"],[1,2175,40,8],[1,2176,43,44],[1,2183,43,12,"_this"],[1,2185,43,17,"previousFrameTimestamp"],[1,2210,44,10,"_this"],[1,2212,44,15,"previousFrameTimestamp"],[1,2235,44,40,"timestamp"],[1,2238,47,8],[1,2242,47,14,"delta"],[1,2244,47,22,"timestamp"],[1,2246,47,34,"_this"],[1,2248,47,39,"previousFrameTimestamp"],[1,2271,49,8,"_this"],[1,2273,49,13,"activeFrameCallbacks"],[1,2294,49,34,"forEach"],[1,2303,49,42],[1,2312,49,43,"callbackId"],[1,2315,50,10],[1,2319,50,16,"callbackDetails"],[1,2321,50,34,"_this"],[1,2323,50,39,"frameCallbackRegistry"],[1,2345,50,61,"get"],[1,2349,50,65,"callbackId"],[1,2352,52,18,"startTime"],[1,2354,52,32,"callbackDetails"],[1,2356,52,18,"startTime"],[1,2366,54,28],[1,2373,54,14,"startTime"],[1,2376,56,12,"callbackDetails"],[1,2378,56,28,"startTime"],[1,2388,56,40,"timestamp"],[1,2390,58,12,"callbackDetails"],[1,2392,58,28,"callback"],[1,2401,58,37],[1,2402,59,14,"timestamp"],[1,2414,60,14,"timeSincePreviousFrame"],[1,2437,60,38],[1,2442,61,14,"timeSinceFirstFrame"],[1,2462,61,35],[1,2467,65,12,"callbackDetails"],[1,2469,65,28,"callback"],[1,2478,65,37],[1,2479,66,14,"timestamp"],[1,2491,67,14,"timeSincePreviousFrame"],[1,2514,67,38,"delta"],[1,2516,68,14,"timeSinceFirstFrame"],[1,2536,68,35,"timestamp"],[1,2538,68,47,"startTime"],[1,2541,71,8],[1,2545,73,12,"_this"],[1,2547,73,17,"activeFrameCallbacks"],[1,2568,73,38,"size"],[1,2573,73,45],[1,2576,74,10,"_this"],[1,2578,74,15,"previousFrameTimestamp"],[1,2601,74,40,"timestamp"],[1,2603,75,10,"requestAnimationFrame"],[1,2625,75,32,"loop"],[1,2629,77,10,"_this"],[1,2631,77,15,"previousFrameTimestamp"],[1,2654,77,40],[1,2658,42,8],[1,2659,79,6],[1,2661,84,45],[1,2665,84,10,"this"],[1,2670,84,15,"activeFrameCallbacks"],[1,2691,84,36,"size"],[1,2697,84,50,"callId"],[1,2701,84,61,"this"],[1,2706,84,66,"nextCallId"],[1,2718,85,8,"requestAnimationFrame"],[1,2740,85,30,"loop"],[1,2742,87,4],[1,2744,89,4,"registerFrameCallback"],[1,2766,89,25],[1,2775,90,6,"callback"],[1,2777,91,6,"callbackId"],[1,2780,93,6,"this"],[1,2785,93,11,"frameCallbackRegistry"],[1,2807,93,33,"set"],[1,2811,93,37,"callbackId"],[1,2813,93,49],[1,2814,94,8,"callback"],[1,2825,95,8,"startTime"],[1,2835,95,19],[1,2841,97,4],[1,2843,99,4,"unregisterFrameCallback"],[1,2867,99,27],[1,2876,99,28,"callbackId"],[1,2879,100,6,"this"],[1,2884,100,11,"manageStateFrameCallback"],[1,2909,100,36,"callbackId"],[1,2912,100,48],[1,2915,101,6,"this"],[1,2920,101,11,"frameCallbackRegistry"],[1,2942,101,33,"delete"],[1,2949,101,40,"callbackId"],[1,2951,102,4],[1,2953,104,4,"manageStateFrameCallback"],[1,2978,104,28],[1,2987,104,29,"callbackId"],[1,2989,104,49,"state"],[1,2993,105,20],[1,2997,105,10,"callbackId"],[1,3001,108,10,"state"],[1,3004,109,8,"this"],[1,3009,109,13,"activeFrameCallbacks"],[1,3030,109,34,"add"],[1,3034,109,38,"callbackId"],[1,3037,110,8,"this"],[1,3042,110,13,"runCallbacks"],[1,3055,110,26,"this"],[1,3060,110,31,"nextCallId"],[1,3074,112,25,"this"],[1,3079,112,30,"frameCallbackRegistry"],[1,3101,112,52,"get"],[1,3105,112,56,"callbackId"],[1,3108,113,17,"startTime"],[1,3118,113,29],[1,3123,115,8,"this"],[1,3128,115,13,"activeFrameCallbacks"],[1,3149,115,34,"delete"],[1,3156,115,41,"callbackId"],[1,3159,116,47],[1,3163,116,12,"this"],[1,3168,116,17,"activeFrameCallbacks"],[1,3189,116,38,"size"],[1,3196,117,10,"this"],[1,3201,117,15,"nextCallId"],[1,3213,117,29],[1,3217,120,4],[1,3220,123,2,"global"],[1,3222,123,9,"_frameCallbackRegistry"],[1,3245,123,34,"frameCallbackRegistry"],[1,3246,124,0],[1,3249,124,1,"__closure"],[1,3259,124,1],[1,3262,124,1,"FrameCallbackRegistryUITs1"],[1,3264,124,1,"__workletHash"],[1,3278,124,1],[1,3292,124,1,"FrameCallbackRegistryUITs1"],[1,3294,124,1,"__initData"],[1,3305,124,1,"_worklet_7852773226175_init_data"],[1,3307,124,1,"FrameCallbackRegistryUITs1"],[1,3310,124,3],[1,3314]],"functionMap":{"names":["<global>","runOnUIImmediately$argument_0","frameCallbackRegistry.runCallbacks","loop","activeFrameCallbacks.forEach$argument_0","frameCallbackRegistry.registerFrameCallback","frameCallbackRegistry.unregisterFrameCallback","frameCallbackRegistry.manageStateFrameCallback"],"mappings":"AAA;oDC4B;ICS;mBCC;0CCU;SDsB;ODQ;KDQ;IIE;KJQ;IKE;KLG;IME;KNgB;CDI"}},"type":"js/module"}]}