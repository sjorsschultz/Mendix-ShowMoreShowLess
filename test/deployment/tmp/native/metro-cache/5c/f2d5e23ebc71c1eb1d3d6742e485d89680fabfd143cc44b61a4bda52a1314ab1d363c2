{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":85,"column":0,"index":2513}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":85,"column":0,"index":2513}}],"key":"yg7e6laZwmpbIvId5jovq9ugXp8="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":85,"column":0,"index":2513}}],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30="}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":159},"end":{"line":5,"column":48,"index":207}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g="}},{"name":"../utils/uuid","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":208},"end":{"line":6,"column":33,"index":241}}],"key":"LH97xGo3mh63ZFDbEj950pFx0Ww="}},{"name":"../codegenSpecs/NativeBlobUtils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":243},"end":{"line":8,"column":66,"index":309}}],"key":"ptrsA0ESbee4YETa4fcMBAu6tF8="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _reactNative = _$$_REQUIRE(_dependencyMap[3], \"react-native\");\n  var _uuid = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"../utils/uuid\"));\n  var _NativeBlobUtils = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"../codegenSpecs/NativeBlobUtils\"));\n  // Copyright 2016 wkh237@github. All rights reserved.\n  // Use of this source code is governed by a MIT-style license that can be\n  // found in the LICENSE file.\n\n  var emitter = new _reactNative.NativeEventEmitter(_NativeBlobUtils.default);\n  var ReactNativeBlobUtilReadStream = exports.default = /*#__PURE__*/function () {\n    function ReactNativeBlobUtilReadStream(path, encoding, bufferSize, tick) {\n      var _this = this;\n      (0, _classCallCheck2.default)(this, ReactNativeBlobUtilReadStream);\n      this.tick = 10;\n      if (!path) throw Error('ReactNativeBlobUtil could not open file stream with empty `path`');\n      this.encoding = encoding || 'utf8';\n      this.bufferSize = bufferSize;\n      this.path = path;\n      this.closed = false;\n      this.tick = tick;\n      this._onData = function () {};\n      this._onEnd = function () {};\n      this._onError = function () {};\n      this.streamId = 'RNFBRS' + (0, _uuid.default)();\n\n      // register for file stream event\n      var subscription = emitter.addListener('ReactNativeBlobUtilFilesystem', function (e) {\n        if (typeof e === 'string') e = JSON.parse(e);\n        if (e.streamId !== _this.streamId) return; // wrong stream\n        var _e = e,\n          event = _e.event,\n          code = _e.code,\n          detail = _e.detail;\n        if (_this._onData && event === 'data') {\n          _this._onData(detail);\n          return;\n        } else if (_this._onEnd && event === 'end') {\n          _this._onEnd(detail);\n        } else {\n          var err = new Error(detail);\n          err.code = code || 'EUNSPECIFIED';\n          if (_this._onError) _this._onError(err);else throw err;\n        }\n        // when stream closed or error, remove event handler\n        if (event === 'error' || event === 'end') {\n          subscription.remove();\n          _this.closed = true;\n        }\n      });\n    }\n    return (0, _createClass2.default)(ReactNativeBlobUtilReadStream, [{\n      key: \"open\",\n      value: function open() {\n        if (!this.closed) _NativeBlobUtils.default.readStream(this.path, this.encoding, this.bufferSize || 10240, this.tick || -1, this.streamId);else throw new Error('Stream closed');\n      }\n    }, {\n      key: \"onData\",\n      value: function onData(fn) {\n        this._onData = fn;\n      }\n    }, {\n      key: \"onError\",\n      value: function onError(fn) {\n        this._onError = fn;\n      }\n    }, {\n      key: \"onEnd\",\n      value: function onEnd(fn) {\n        this._onEnd = fn;\n      }\n    }]);\n  }();\n});","lineCount":80,"map":[[9,2,5,0],[9,6,5,0,"_reactNative"],[9,18,5,0],[9,21,5,0,"_$$_REQUIRE"],[9,32,5,0],[9,33,5,0,"_dependencyMap"],[9,47,5,0],[10,2,6,0],[10,6,6,0,"_uuid"],[10,11,6,0],[10,14,6,0,"_interopRequireDefault"],[10,36,6,0],[10,37,6,0,"_$$_REQUIRE"],[10,48,6,0],[10,49,6,0,"_dependencyMap"],[10,63,6,0],[11,2,8,0],[11,6,8,0,"_NativeBlobUtils"],[11,22,8,0],[11,25,8,0,"_interopRequireDefault"],[11,47,8,0],[11,48,8,0,"_$$_REQUIRE"],[11,59,8,0],[11,60,8,0,"_dependencyMap"],[11,74,8,0],[12,2,1,0],[13,2,2,0],[14,2,3,0],[16,2,10,0],[16,6,10,6,"emitter"],[16,13,10,13],[16,16,10,16],[16,20,10,20,"NativeEventEmitter"],[16,51,10,38],[16,52,10,39,"ReactNativeBlobUtil"],[16,76,10,58],[16,77,10,59],[17,2,10,60],[17,6,12,21,"ReactNativeBlobUtilReadStream"],[17,35,12,50],[17,38,12,50,"exports"],[17,45,12,50],[17,46,12,50,"default"],[17,53,12,50],[18,4,20,4],[18,13,20,4,"ReactNativeBlobUtilReadStream"],[18,43,20,16,"path"],[18,47,20,28],[18,49,20,30,"encoding"],[18,57,20,46],[18,59,20,48,"bufferSize"],[18,69,20,68],[18,71,20,70,"tick"],[18,75,20,82],[18,77,20,84],[19,6,20,84],[19,10,20,84,"_this"],[19,15,20,84],[20,6,20,84],[20,10,20,84,"_classCallCheck2"],[20,26,20,84],[20,27,20,84,"default"],[20,34,20,84],[20,42,20,84,"ReactNativeBlobUtilReadStream"],[20,71,20,84],[21,6,20,84],[21,11,18,4,"tick"],[21,15,18,8],[21,18,18,19],[21,20,18,21],[22,6,21,8],[22,10,21,12],[22,11,21,13,"path"],[22,15,21,17],[22,17,22,12],[22,23,22,18,"Error"],[22,28,22,23],[22,29,22,24],[22,95,22,90],[22,96,22,91],[23,6,23,8],[23,10,23,12],[23,11,23,13,"encoding"],[23,19,23,21],[23,22,23,24,"encoding"],[23,30,23,32],[23,34,23,36],[23,40,23,42],[24,6,24,8],[24,10,24,12],[24,11,24,13,"bufferSize"],[24,21,24,23],[24,24,24,26,"bufferSize"],[24,34,24,36],[25,6,25,8],[25,10,25,12],[25,11,25,13,"path"],[25,15,25,17],[25,18,25,20,"path"],[25,22,25,24],[26,6,26,8],[26,10,26,12],[26,11,26,13,"closed"],[26,17,26,19],[26,20,26,22],[26,25,26,27],[27,6,27,8],[27,10,27,12],[27,11,27,13,"tick"],[27,15,27,17],[27,18,27,20,"tick"],[27,22,27,24],[28,6,28,8],[28,10,28,12],[28,11,28,13,"_onData"],[28,18,28,20],[28,21,28,23],[28,33,28,29],[28,34,29,8],[28,35,29,9],[29,6,30,8],[29,10,30,12],[29,11,30,13,"_onEnd"],[29,17,30,19],[29,20,30,22],[29,32,30,28],[29,33,31,8],[29,34,31,9],[30,6,32,8],[30,10,32,12],[30,11,32,13,"_onError"],[30,19,32,21],[30,22,32,24],[30,34,32,30],[30,35,33,8],[30,36,33,9],[31,6,34,8],[31,10,34,12],[31,11,34,13,"streamId"],[31,19,34,21],[31,22,34,24],[31,30,34,32],[31,33,34,35],[31,37,34,35,"UUID"],[31,50,34,39],[31,52,34,40],[31,53,34,41],[33,6,36,8],[34,6,37,8],[34,10,37,12,"subscription"],[34,22,37,24],[34,25,37,27,"emitter"],[34,32,37,34],[34,33,37,35,"addListener"],[34,44,37,46],[34,45,37,47],[34,76,37,78],[34,78,37,80],[34,88,37,81,"e"],[34,89,37,82],[34,91,37,87],[35,8,38,12],[35,12,38,16],[35,19,38,23,"e"],[35,20,38,24],[35,25,38,29],[35,33,38,37],[35,35,38,39,"e"],[35,36,38,40],[35,39,38,43,"JSON"],[35,43,38,47],[35,44,38,48,"parse"],[35,49,38,53],[35,50,38,54,"e"],[35,51,38,55],[35,52,38,56],[36,8,39,12],[36,12,39,16,"e"],[36,13,39,17],[36,14,39,18,"streamId"],[36,22,39,26],[36,27,39,31,"_this"],[36,32,39,35],[36,33,39,36,"streamId"],[36,41,39,44],[36,43,39,46],[36,50,39,53],[36,51,39,54],[37,8,40,12],[37,12,40,12,"_e"],[37,14,40,12],[37,17,40,40,"e"],[37,18,40,41],[38,10,40,17,"event"],[38,15,40,22],[38,18,40,22,"_e"],[38,20,40,22],[38,21,40,17,"event"],[38,26,40,22],[39,10,40,24,"code"],[39,14,40,28],[39,17,40,28,"_e"],[39,19,40,28],[39,20,40,24,"code"],[39,24,40,28],[40,10,40,30,"detail"],[40,16,40,36],[40,19,40,36,"_e"],[40,21,40,36],[40,22,40,30,"detail"],[40,28,40,36],[41,8,41,12],[41,12,41,16,"_this"],[41,17,41,20],[41,18,41,21,"_onData"],[41,25,41,28],[41,29,41,32,"event"],[41,34,41,37],[41,39,41,42],[41,45,41,48],[41,47,41,50],[42,10,42,16,"_this"],[42,15,42,20],[42,16,42,21,"_onData"],[42,23,42,28],[42,24,42,29,"detail"],[42,30,42,35],[42,31,42,36],[43,10,43,16],[44,8,44,12],[44,9,44,13],[44,15,45,17],[44,19,45,21,"_this"],[44,24,45,25],[44,25,45,26,"_onEnd"],[44,31,45,32],[44,35,45,36,"event"],[44,40,45,41],[44,45,45,46],[44,50,45,51],[44,52,45,53],[45,10,46,16,"_this"],[45,15,46,20],[45,16,46,21,"_onEnd"],[45,22,46,27],[45,23,46,28,"detail"],[45,29,46,34],[45,30,46,35],[46,8,47,12],[46,9,47,13],[46,15,48,17],[47,10,49,16],[47,14,49,22,"err"],[47,17,49,25],[47,20,49,28],[47,24,49,32,"Error"],[47,29,49,37],[47,30,49,38,"detail"],[47,36,49,44],[47,37,49,45],[48,10,50,16,"err"],[48,13,50,19],[48,14,50,20,"code"],[48,18,50,24],[48,21,50,27,"code"],[48,25,50,31],[48,29,50,35],[48,43,50,49],[49,10,51,16],[49,14,51,20,"_this"],[49,19,51,24],[49,20,51,25,"_onError"],[49,28,51,33],[49,30,52,20,"_this"],[49,35,52,24],[49,36,52,25,"_onError"],[49,44,52,33],[49,45,52,34,"err"],[49,48,52,37],[49,49,52,38],[49,50,52,39],[49,55,54,20],[49,61,54,26,"err"],[49,64,54,29],[50,8,55,12],[51,8,56,12],[52,8,57,12],[52,12,57,16,"event"],[52,17,57,21],[52,22,57,26],[52,29,57,33],[52,33,57,37,"event"],[52,38,57,42],[52,43,57,47],[52,48,57,52],[52,50,57,54],[53,10,58,16,"subscription"],[53,22,58,28],[53,23,58,29,"remove"],[53,29,58,35],[53,30,58,36],[53,31,58,37],[54,10,59,16,"_this"],[54,15,59,20],[54,16,59,21,"closed"],[54,22,59,27],[54,25,59,30],[54,29,59,34],[55,8,60,12],[56,6,61,8],[56,7,61,9],[56,8,61,10],[57,4,63,4],[58,4,63,5],[58,15,63,5,"_createClass2"],[58,28,63,5],[58,29,63,5,"default"],[58,36,63,5],[58,38,63,5,"ReactNativeBlobUtilReadStream"],[58,67,63,5],[59,6,63,5,"key"],[59,9,63,5],[60,6,63,5,"value"],[60,11,63,5],[60,13,65,4],[60,22,65,4,"open"],[60,26,65,8,"open"],[60,27,65,8],[60,29,65,11],[61,8,66,8],[61,12,66,12],[61,13,66,13],[61,17,66,17],[61,18,66,18,"closed"],[61,24,66,24],[61,26,67,12,"ReactNativeBlobUtil"],[61,50,67,31],[61,51,67,32,"readStream"],[61,61,67,42],[61,62,67,43],[61,66,67,47],[61,67,67,48,"path"],[61,71,67,52],[61,73,67,54],[61,77,67,58],[61,78,67,59,"encoding"],[61,86,67,67],[61,88,67,69],[61,92,67,73],[61,93,67,74,"bufferSize"],[61,103,67,84],[61,107,67,88],[61,112,67,93],[61,114,67,95],[61,118,67,99],[61,119,67,100,"tick"],[61,123,67,104],[61,127,67,108],[61,128,67,109],[61,129,67,110],[61,131,67,112],[61,135,67,116],[61,136,67,117,"streamId"],[61,144,67,125],[61,145,67,126],[61,146,67,127],[61,151,69,12],[61,157,69,18],[61,161,69,22,"Error"],[61,166,69,27],[61,167,69,28],[61,182,69,43],[61,183,69,44],[62,6,70,4],[63,4,70,5],[64,6,70,5,"key"],[64,9,70,5],[65,6,70,5,"value"],[65,11,70,5],[65,13,72,4],[65,22,72,4,"onData"],[65,28,72,10,"onData"],[65,29,72,11,"fn"],[65,31,72,25],[65,33,72,27],[66,8,73,8],[66,12,73,12],[66,13,73,13,"_onData"],[66,20,73,20],[66,23,73,23,"fn"],[66,25,73,25],[67,6,74,4],[68,4,74,5],[69,6,74,5,"key"],[69,9,74,5],[70,6,74,5,"value"],[70,11,74,5],[70,13,76,4],[70,22,76,4,"onError"],[70,29,76,11,"onError"],[70,30,76,12,"fn"],[70,32,76,14],[70,34,76,16],[71,8,77,8],[71,12,77,12],[71,13,77,13,"_onError"],[71,21,77,21],[71,24,77,24,"fn"],[71,26,77,26],[72,6,78,4],[73,4,78,5],[74,6,78,5,"key"],[74,9,78,5],[75,6,78,5,"value"],[75,11,78,5],[75,13,80,4],[75,22,80,4,"onEnd"],[75,27,80,9,"onEnd"],[75,28,80,10,"fn"],[75,30,80,12],[75,32,80,14],[76,8,81,8],[76,12,81,12],[76,13,81,13,"_onEnd"],[76,19,81,19],[76,22,81,22,"fn"],[76,24,81,24],[77,6,82,4],[78,4,82,5],[79,2,82,5],[80,0,82,5],[80,3]],"functionMap":{"names":["<global>","ReactNativeBlobUtilReadStream","constructor","_onData","_onEnd","_onError","emitter.addListener$argument_1","open","onData","onError","onEnd"],"mappings":"AAA;eCW;ICQ;uBCQ;SDC;sBEC;SFC;wBGC;SHC;gFII;SJwB;KDE;IME;KNK;IOE;KPE;IQE;KRE;ISE;KTE;CDE"}},"type":"js/module"}]}